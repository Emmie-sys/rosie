<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Roseline! | My Favorite Person</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #ff3366;
            --secondary: #9933ff;
            --accent: #ffcc00;
            --light: #ffccff;
            --dark: #330033;
            --text: #ffffff;
            --card-bg: rgba(255, 255, 255, 0.15);
        }

        body {
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--dark));
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Welcome Screen */
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, rgba(255, 51, 102, 0.95), rgba(153, 51, 255, 0.95));
            z-index: 100;
            transition: opacity 1s ease;
            padding: 20px;
            text-align: center;
        }

        .welcome-screen h1 {
            font-size: clamp(2.5rem, 6vw, 4rem);
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #ffffff, var(--accent), var(--light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
            animation: titleGlow 3s infinite alternate;
        }

        .welcome-screen h3 {
            font-size: clamp(1rem, 3vw, 1.5rem);
            margin-bottom: 2rem;
            color: var(--light);
            font-weight: 400;
        }

        @keyframes titleGlow {
            0% { text-shadow: 0 0 15px rgba(255, 255, 255, 0.5); }
            50% { text-shadow: 0 0 20px var(--accent); }
            100% { text-shadow: 0 0 25px var(--light); }
        }

        .welcome-input {
            padding: 1rem 1.5rem;
            font-size: 1.1rem;
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            width: min(350px, 90%);
            text-align: center;
            outline: none;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }

        .welcome-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .welcome-input:focus {
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.7);
            transform: scale(1.05);
            border-color: var(--accent);
        }

        .welcome-button {
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            background: linear-gradient(45deg, var(--accent), #ffffff);
            color: var(--primary);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }

        .welcome-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.8);
        }

        .welcome-button:after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(45deg);
            transition: all 0.5s;
        }

        .welcome-button:hover:after {
            left: 100%;
        }

        /* Main Content */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
            text-align: center;
            z-index: 10;
            position: relative;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
            flex: 1;
        }

        .container.show {
            opacity: 1;
            transform: translateY(0);
        }

        .main-title {
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin-top: 4.5rem;
            margin-bottom: 1.2rem;
            background: linear-gradient(45deg, #ffffff, var(--accent), var(--light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
            animation: titleGlow 3s infinite alternate;
        }

        .name-display {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            margin-bottom: 2rem;
            color: var(--accent);
            text-shadow: 0 0 10px rgba(255, 204, 0, 0.7);
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.11); }
            100% { transform: scale(1); }
        }

        /* Gallery Section */
        .gallery-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: var(--card-bg);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }

        .gallery-section.show {
            opacity: 1;
            transform: translateY(0);
        }

        .gallery-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--accent);
            text-shadow: 0 0 10px rgba(255, 204, 0, 0.7);
        }

        .gallery-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .gallery-control {
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            border: none;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .gallery-control.active {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            box-shadow: 0 0 15px rgba(255, 51, 102, 0.5);
        }

        .gallery-control:hover:not(.active) {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .gallery-container {
            position: relative;
            width: 100%;
            height: 400px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            background: rgba(0, 0, 0, 0.2);
        }

        .gallery-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.8s ease;
            border-radius: 15px;
        }

        .gallery-image.active {
            opacity: 1;
        }

        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 20;
        }

        .gallery-nav:hover {
            background: rgba(0, 0, 0, 0.7);
            transform: translateY(-50%) scale(1.1);
        }

        .gallery-nav.prev {
            left: 15px;
        }

        .gallery-nav.next {
            right: 15px;
        }

        .gallery-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 1rem;
            text-align: center;
            font-size: 1.1rem;
            transform: translateY(100%);
            transition: transform 0.5s ease;
            z-index: 10;
        }

        .gallery-container:hover .gallery-caption {
            transform: translateY(0);
        }

        /* Memory Section */
        .memory-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: var(--card-bg);
            border-radius: 15px;
            backdrop-filter: blur(5px);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }

        .memory-section.show {
            opacity: 1;
            transform: translateY(0);
        }

        .memory-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .memory-text {
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        /* Wish Container */
        .wish-container {
            margin-top: 2rem;
            padding: 2rem;
            background: var(--card-bg);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .wish-container.show {
            opacity: 1;
            transform: translateY(0);
        }

        .wish-text {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            font-weight: 400;
        }

        .name-highlight {
            color: var(--accent);
            text-shadow: 0 0 10px rgba(255, 204, 0, 0.7);
            font-weight: 600;
        }

        /* Action Buttons */
        .action-buttons {
            margin-top: 2rem;
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-button {
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            border: none;
            border-radius: 50px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(255, 51, 102, 0.5);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .action-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 51, 102, 0.8);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 1.5rem;
            background: rgba(51, 0, 51, 0.7);
            margin-top: auto;
            z-index: 10;
            position: relative;
            backdrop-filter: blur(5px);
        }

        .copyright {
            font-size: 0.9rem;
            color: #ffffff;
        }

        .copyright a {
            color: var(--accent);
            text-decoration: none;
            transition: color 0.3s;
        }

        .copyright a:hover {
            color: #ffffff;
            text-decoration: underline;
        }

        /* Audio Control */
        .audio-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .audio-control:hover {
            transform: scale(1.1);
        }

        .audio-control i {
            font-size: 1.5rem;
            color: var(--primary);
        }

        /* Hand Emoji for Audio Guidance */
        .audio-guidance {
            position: fixed;
            bottom: 90px;
            right: 20px;
            font-size: 2rem;
            z-index: 1001;
            animation: pointToAudio 2s infinite;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .audio-guidance.show {
            opacity: 1;
        }

        @keyframes pointToAudio {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(-10deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }

        /* Canvas for animations */
        #animationCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Interactive elements */
        .interactive-element {
            position: absolute;
            z-index: 5;
            opacity: 0;
            pointer-events: none;
            font-size: 1.8rem;
        }

        .flower {
            animation: float 15s linear infinite;
        }

        .balloon {
            animation: balloonFloat 10s linear infinite;
            text-shadow: 0 0 10px rgba(255, 51, 102, 0.7);
        }

        .love-emoji {
            animation: loveFloat 8s linear infinite;
        }

        .star {
            animation: starTwinkle 5s linear infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes balloonFloat {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes loveFloat {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes starTwinkle {
            0%, 100% {
                opacity: 0.3;
                transform: scale(0.8);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }

        /* Heart animation */
        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary);
            transform: rotate(45deg);
            opacity: 0;
            z-index: 5;
            box-shadow: 0 0 15px rgba(255, 51, 102, 0.7);
            pointer-events: none;
        }

        .heart:before, .heart:after {
            content: '';
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            position: absolute;
            box-shadow: 0 0 15px rgba(255, 51, 102, 0.7);
        }

        .heart:before {
            top: -10px;
            left: 0;
        }

        .heart:after {
            top: 0;
            left: -10px;
        }

        @keyframes heartFloat {
            0% {
                transform: translateY(0) rotate(45deg) scale(0);
                opacity: 0;
            }
            50% {
                opacity: 1;
                transform: translateY(-20px) rotate(45deg) scale(1);
            }
            100% {
                transform: translateY(-40px) rotate(45deg) scale(0);
                opacity: 0;
            }
        }

        /* Disable scrolling on the entire page */
        body, html {
            overflow: hidden !important;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        /* Ensure main container doesn't cause scroll */
        .container {
            max-height: 100vh;
            overflow-y: auto;
            padding: 1rem;
        }

        /* Optional: Hide scrollbar visually but keep functionality if using overflow-y: auto */
        .container::-webkit-scrollbar {
            display: none;
        }
        .container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 50px;
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: 0 0 20px rgba(255, 51, 102, 0.5);
        }

        .toast.show {
            opacity: 1;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .wish-container, .gallery-section, .memory-section {
                padding: 1.5rem;
            }
            
            .action-buttons, .gallery-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .action-button, .gallery-control {
                width: 200px;
                justify-content: center;
            }
            
            .audio-control {
                bottom: 15px;
                right: 15px;
                width: 45px;
                height: 45px;
            }
            
            .audio-control i {
                font-size: 1.3rem;
            }
            
            .gallery-container {
                height: 300px;
            }
            
            .audio-guidance {
                bottom: 75px;
                right: 15px;
                font-size: 1.8rem;
            }
        }

        @media (max-width: 480px) {
            .welcome-input {
                padding: 0.8rem 1.2rem;
                font-size: 1rem;
            }
            
            .welcome-button {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
            }
            
            .action-button, .gallery-control {
                padding: 0.7rem 1.2rem;
                font-size: 0.9rem;
            }
            
            .gallery-container {
                height: 250px;
            }
            
            .audio-guidance {
                bottom: 70px;
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <h1>Hey My Favorite soulmate, Roseline ! üíñ</h1>
        <h3>Can I call u  baby gyal, darling, love, or...<br>Let me know here üëá</h3>
        <input type="text" class="welcome-input" id="nameInput" placeholder="Your beautiful name">
        <button class="welcome-button" id="startButton">Ready? we go üéâ</button>
    </div>

    <!-- Main Content -->
    <div class="container" id="mainContainer">
        <h1 class="main-title">Happy Birthday My Dearest Roseline! üéÇ</h1>
        <div class="name-display" id="nameDisplay"></div>
        
        <!-- Gallery Section -->
        <div class="gallery-section" id="gallerySection">
            <h2 class="gallery-title">Special Memories for You</h2>
            
            <div class="gallery-controls">
                <button class="gallery-control active" data-category="love">
                    <i class="fas fa-heart"></i>The Love
                </button>
                <button class="gallery-control" data-category="special">
                    <i class="fas fa-star"></i> You're Special
                </button>
                <button class="gallery-control" data-category="memories">
                    <i class="fas fa-camera"></i> Beautiful
                </button>
                <button class="gallery-control" data-category="surprise">
                    <i class="fas fa-gift"></i> Special Surprise
                </button>
            </div>
            
            <div class="gallery-container">
                <button class="gallery-nav prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="gallery-nav next">
                    <i class="fas fa-chevron-right"></i>
                </button>
                
                <!-- Love Images -->
                <img src="love1.jpg" 
                     alt="Love1" class="gallery-image active" data-category="love">
                <img src="love2.jpg" 
                     alt="Love memory 2" class="gallery-image" data-category="love">
                <img src="love3.jpg" 
                     alt="Love memory 3" class="gallery-image" data-category="love">
                
                <!-- Special Moments Images -->
                <img src="moments1.jpg" 
                     alt="Special moment 1" class="gallery-image" data-category="special">
                <img src="moments2.jpg" 
                     alt="Special moment 2" class="gallery-image" data-category="special">
                <img src="moments3.jpg" 
                     alt="Special moment 3" class="gallery-image" data-category="special">
                
                <!-- Beautiful Memories Images -->
                <img src="beautiful1.jpg" 
                     alt="Memory1" class="gallery-image" data-category="memories">
                <img src="beautiful2.jpg" 
                     alt="Memory2" class="gallery-image" data-category="memories">
                <img src="beautiful3.jpg" 
                     alt="Memory3" class="gallery-image" data-category="memories">
                
                <!-- Special Surprise Images -->
                <img src="special1.jpg" 
                     alt="Surprise 1" class="gallery-image" data-category="surprise">
                <img src="special2.jpg" 
                     alt="Surprise 2" class="gallery-image" data-category="surprise">
                <img src="special3.jpg" 
                     alt="Surprise 3" class="gallery-image" data-category="surprise">
                
                <div class="gallery-caption">
                    <span id="imageCaption">It's U</span>
                </div>
            </div>
        </div>
        
        <!-- Memory Section -->
        <div class="memory-section" id="memorySection">
            <h3 class="memory-title">A Special Memory</h3>
            <p class="memory-text">Remember that time u first experienced me and you, ...? 
                Those moments with you are my most treasured ones. You bring so 
                much joy into my life, and I'm forever grateful for who u are to me and 
                the love we share.
            </p>
            <p class="memory-text">
               Every day with you feels like a celebration and I really miss it, but today is 
                extra special because it's your birthday! I hope this year brings 
                you everything you've been dreaming of and more.</p>
        </div>
        
        <!-- Wish Container -->
        <div class="wish-container" id="wishContainer">
            <div class="wish-text" id="wishText"></div>
        </div>
        
        <div class="action-buttons">
            <button class="action-button" id="newWishButton">
                <i class="fas fa-sync-alt"></i> see more
            </button>
            <button class="action-button" id="shareButton">
                <i class="fas fa-share-alt"></i> U may share
            </button>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="copyright">
            Made with infinite ‚ù§Ô∏è by your bestie, <a href="mailto:your.email@example.com">who loves you beyond words</a>
        </div>
    </footer>

    <!-- Audio Control -->
    <div class="audio-control" id="audioControl">
        <i class="fas fa-volume-up"></i>
    </div>

    <!-- Hand Emoji for Audio Guidance -->
    <div class="audio-guidance" id="audioGuidance">üëá</div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Canvas for background animation -->
    <canvas id="animationCanvas"></canvas>

    <script>
        // DOM Elements
        const welcomeScreen = document.getElementById('welcomeScreen');
        const mainContainer = document.getElementById('mainContainer');
        const nameInput = document.getElementById('nameInput');
        const startButton = document.getElementById('startButton');
        const nameDisplay = document.getElementById('nameDisplay');
        const wishContainer = document.getElementById('wishContainer');
        const wishText = document.getElementById('wishText');
        const newWishButton = document.getElementById('newWishButton');
        const shareButton = document.getElementById('shareButton');
        const audioControl = document.getElementById('audioControl');
        const audioGuidance = document.getElementById('audioGuidance');
        const toast = document.getElementById('toast');
        const gallerySection = document.getElementById('gallerySection');
        const memorySection = document.getElementById('memorySection');
        
        // Gallery elements
        const galleryControls = document.querySelectorAll('.gallery-control');
        const galleryImages = document.querySelectorAll('.gallery-image');
        const prevButton = document.querySelector('.gallery-nav.prev');
        const nextButton = document.querySelector('.gallery-nav.next');
        const imageCaption = document.getElementById('imageCaption');

        // Gallery state
        let currentCategory = 'love';
        let currentImageIndex = 0;
        const captions = {
            love: [
                "story",
                "Every moment with you is magical",
                "U form part of my world"
            ],
            special: [
                "Special",
                "Special",
                "Special"
            ],
            memories: [
                "Wish",
                "Wish",
                "Wish"
            ],
            surprise: [
                "You are my greatest surprise",
                "Every day with you is a gift",
                "My heart belongs to you"
            ]
        };

        // Initialize gallery
        function initGallery() {
            // Set initial active images based on category
            updateGallery();
            
            // Add event listeners to gallery controls
            galleryControls.forEach(control => {
                control.addEventListener('click', () => {
                    // Remove active class from all controls
                    galleryControls.forEach(c => c.classList.remove('active'));
                    // Add active class to clicked control
                    control.classList.add('active');
                    
                    // Update current category
                    currentCategory = control.dataset.category;
                    currentImageIndex = 0;
                    
                    // Update gallery
                    updateGallery();
                    
                    // Show toast message
                    let message = "You're ";
                    switch(currentCategory) {
                        case 'love': message += "lovely"; break;
                        case 'special': message += "special"; break;
                        case 'memories': message += "beautiful"; break;
                        case 'surprise': message += " exclusively amazing"; break;
                    }
                    showToast(message);
                });
            });
            
            // Add event listeners to navigation buttons
            prevButton.addEventListener('click', showPrevImage);
            nextButton.addEventListener('click', showNextImage);
            
            // Add keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') showPrevImage();
                if (e.key === 'ArrowRight') showNextImage();
            });
        }
        
        // Update gallery based on current category
        function updateGallery() {
            // Hide all images
            galleryImages.forEach(img => {
                img.classList.remove('active');
            });
            
            // Get images for current category
            const categoryImages = Array.from(galleryImages).filter(
                img => img.dataset.category === currentCategory
            );
            
            // Show current image
            if (categoryImages.length > 0) {
                categoryImages[currentImageIndex].classList.add('active');
                updateCaption();
            }
        }
        
        // Show previous image
        function showPrevImage() {
            const categoryImages = Array.from(galleryImages).filter(
                img => img.dataset.category === currentCategory
            );
            
            currentImageIndex = (currentImageIndex - 1 + categoryImages.length) % categoryImages.length;
            updateGallery();
        }
        
        // Show next image
        function showNextImage() {
            const categoryImages = Array.from(galleryImages).filter(
                img => img.dataset.category === currentCategory
            );
            
            currentImageIndex = (currentImageIndex + 1) % categoryImages.length;
            updateGallery();
        }
        
        // Update image caption
        function updateCaption() {
            const categoryImages = Array.from(galleryImages).filter(
                img => img.dataset.category === currentCategory
            );
            
            if (categoryImages.length > 0) {
                imageCaption.textContent = captions[currentCategory][currentImageIndex];
            }
        }

        // Audio setup
        let audio = null;
        let isPlaying = false;
        let audioGuidanceShown = false;

        function initAudio() {
            if (!audio) {
                audio = new Audio();
                // Replace with your actual music file path
                audio.src = 'birthday-music.m4a';
                audio.loop = true;
                audio.volume = 0.7;
                
                audio.addEventListener('canplaythrough', () => {
                    console.log("Audio is ready to play");
                });
                
                audio.addEventListener('error', (e) => {
                    console.error("Audio error:", e);
                    showToast("Music file not found.");
                });
            }
        }

        function toggleAudio() {
            initAudio();
            
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                audioControl.innerHTML = '<i class="fas fa-volume-mute"></i>';
                showToast('Music paused');
            } else {
                const playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        isPlaying = true;
                        audioControl.innerHTML = '<i class="fas fa-volume-up"></i>';
                        showToast('Music playing!');
                        
                        // Hide audio guidance when audio starts playing
                        hideAudioGuidance();
                    }).catch(error => {
                        console.error("Audio play failed:", error);
                        showToast('Playback failed.');
                    });
                }
            }
        }

        // Show audio guidance (hand emoji)
        function showAudioGuidance() {
            if (!audioGuidanceShown && !isPlaying) {
                audioGuidance.classList.add('show');
                audioGuidanceShown = true;
                
                // Auto-hide after 15 seconds if audio still not playing
                setTimeout(() => {
                    if (!isPlaying) {
                        hideAudioGuidance();
                    }
                }, 15000);
            }
        }

        // Hide audio guidance
        function hideAudioGuidance() {
            audioGuidance.classList.remove('show');
            audioGuidanceShown = false;
        }

        // Set up audio control
        audioControl.addEventListener('click', toggleAudio);

        // Initialize audio when user interacts with the page
        document.addEventListener('click', initAudio);
        document.addEventListener('touchstart', initAudio);

        // Start the experience
        startButton.addEventListener('click', () => {
            userName = nameInput.value.trim();
            if (userName === '') {
                showToast('Please put something !');
                return;
            }
            
            // Initialize audio when starting
            initAudio();
            
            // Hide welcome screen
            welcomeScreen.style.opacity = '0';
            setTimeout(() => {
                welcomeScreen.style.display = 'none';
                // Show main content
                mainContainer.classList.add('show');
                wishContainer.classList.add('show');
                gallerySection.classList.add('show');
                memorySection.classList.add('show');
                
                // Initialize gallery
                initGallery();
                
                // Display name
                nameDisplay.textContent =  'üíïüíï beautiful ' + userName + '! üíïüíï';
                
                // Generate first wish
                generateWish();
                
                // Start animations
                createHearts();
                createFlowers();
                createBalloons();
                createLoveEmojis();
                createStars();
                
                // Show audio guidance after a short delay
                setTimeout(showAudioGuidance, 2000);
            }, 1000);
        });

        // Wish generation
        const wishes = [
            "On your special day, I wish you endless happiness, boundless love, and all the beautiful things life has to offer, <span class='name-highlight'>%name%</span>! You're my favorite person in the whole world.",
            "Happy birthday to the woman who makes my world brighter just by being in it. You deserve all the joy in the universe, <span class='name-highlight'>%name%</span>!",
            "May your birthday be as incredibly wonderful and uniquely special as you are to me, <span class='name-highlight'>%name%</span>! Being your bestie is the greatest gift.",
            "Wishing you a day filled with love, laughter, and all your heart desires. You're the best thing that ever happened to me, <span class='name-highlight'>%name%</span>!",
            "On this special day, I want you to know how much you mean to me. You're my everything, <span class='name-highlight'>%name%</span>! Happy birthday to my favorite person!",
            "May your birthday be the beginning of a year filled with good luck, good health, and much happiness, <span class='name-highlight'>%name%</span>! I'm so lucky to have you in my life.",
            "You're not just a year older today, but a year more beautiful, more amazing, and more loved, <span class='name-highlight'>%name%</span>! Cheers to many more years of friendship and love.",
            "Happy birthday to the woman who stole my heart and continues to amaze me every single day, <span class='name-highlight'>%name%</span>! You're simply the best.",
            "Today is all about you, my love. May your birthday be as bright and beautiful as your smile, <span class='name-highlight'>%name%</span>!",
            "I'm so grateful to celebrate another year of your wonderful life. You make every day special, <span class='name-highlight'>%name%</span>! Happy birthday to my bestie and love!"
        ];

        function generateWish() {
            const randomWish = wishes[Math.floor(Math.random() * wishes.length)];
            const personalizedWish = randomWish.replace(/%name%/g, userName);
            
            wishText.innerHTML = personalizedWish;
            
            // Create additional animations
            createHearts();
            createFlowers();
            createBalloons();
            createLoveEmojis();
            createStars();
        }

        newWishButton.addEventListener('click', generateWish);

        // Share functionality
        shareButton.addEventListener('click', () => {
            const currentWish = wishText.innerText;
            const shareText = `Check out this beautiful birthday wish for ${userName}! ‚ù§Ô∏è`;
            const shareUrl = window.location.href;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Birthday Wishes for My Favorite Person',
                    text: shareText,
                    url: shareUrl
                }).then(() => {
                    showToast('Thanks for sharing the love!');
                }).catch(err => {
                    console.log('Error sharing:', err);
                    fallbackShare(shareText);
                });
            } else {
                fallbackShare(shareText);
            }
        });

        // Fallback method (copy to clipboard)
        function fallbackShare(shareText) {
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(shareText).then(() => {
                    showToast('Wish copied to clipboard! üìã Now you can paste and share it.');
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                    showToast(`Here is your wish to share: ${shareText}`);
                });
            } else {
                showToast(`Your wish: ${shareText}`);
            }
        }

        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Canvas animation
        const canvas = document.getElementById('animationCanvas');
        const ctx = canvas.getContext('2d');
        
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // Particle system for background
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 3 - 1.5;
                this.speedY = Math.random() * 3 - 1.5;
                this.color = `hsl(${Math.random() * 60 + 300}, 70%, 60%)`;
            }
            
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                
                if (this.x > canvas.width || this.x < 0) this.speedX *= -1;
                if (this.y > canvas.height || this.y < 0) this.speedY *= -1;
            }
            
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.shadowBlur = 15;
                ctx.shadowColor = this.color;
            }
        }
        
        const particles = [];
        for (let i = 0; i < 150; i++) {
            particles.push(new Particle());
        }
        
        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            for (let particle of particles) {
                particle.update();
                particle.draw();
            }
            
            requestAnimationFrame(animateParticles);
        }
        
        animateParticles();

        // Create hearts animation
        function createHearts() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.animation = `heartFloat ${Math.random() * 2 + 1}s ease-in-out forwards`;
                    document.body.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 3000);
                }, i * 100);
            }
        }

        // Create flowers animation
        function createFlowers() {
            const flowerEmojis = ['üå∏', 'üå∫', 'üåª', 'üå∑', 'üíê', 'üèµÔ∏è', 'üåπ', 'ü•Ä', 'üåº'];
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const flower = document.createElement('div');
                    flower.className = 'flower interactive-element';
                    flower.innerHTML = flowerEmojis[Math.floor(Math.random() * flowerEmojis.length)];
                    flower.style.left = Math.random() * 100 + 'vw';
                    flower.style.fontSize = (Math.random() * 20 + 15) + 'px';
                    flower.style.animationDuration = (Math.random() * 10 + 10) + 's';
                    document.body.appendChild(flower);
                    
                    setTimeout(() => {
                        flower.remove();
                    }, 20000);
                }, i * 200);
            }
        }

        // Create balloons animation
        function createBalloons() {
            const balloonEmojis = ['üéà', 'üéà', 'üéà', 'üéà', 'üéà'];
            
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const balloon = document.createElement('div');
                    balloon.className = 'balloon interactive-element';
                    balloon.innerHTML = balloonEmojis[Math.floor(Math.random() * balloonEmojis.length)];
                    balloon.style.left = Math.random() * 100 + 'vw';
                    balloon.style.animationDuration = (Math.random() * 5 + 5) + 's';
                    document.body.appendChild(balloon);
                    
                    setTimeout(() => {
                        balloon.remove();
                    }, 15000);
                }, i * 150);
            }
        }

        // Create love emojis animation
        function createLoveEmojis() {
            const loveEmojis = ['üíñ', 'üíó', 'üíì', 'üíû', 'üíï', 'üíò', 'üíù', '‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú'];
            
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const love = document.createElement('div');
                    love.className = 'love-emoji interactive-element';
                    love.innerHTML = loveEmojis[Math.floor(Math.random() * loveEmojis.length)];
                    love.style.left = Math.random() * 100 + 'vw';
                    love.style.fontSize = (Math.random() * 15 + 12) + 'px';
                    love.style.animationDuration = (Math.random() * 8 + 8) + 's';
                    document.body.appendChild(love);
                    
                    setTimeout(() => {
                        love.remove();
                    }, 16000);
                }, i * 150);
            }
        }

        // Create stars animation
        function createStars() {
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const star = document.createElement('div');
                    star.className = 'star interactive-element';
                    star.innerHTML = '‚≠ê';
                    star.style.left = Math.random() * 100 + 'vw';
                    star.style.fontSize = (Math.random() * 15 + 10) + 'px';
                    star.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    document.body.appendChild(star);
                    
                    setTimeout(() => {
                        star.remove();
                    }, 5000);
                }, i * 300);
            }
        }

        // Create fireworks animation
        function createFireworks() {
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const firework = document.createElement('div');
                    firework.className = 'firework';
                    firework.innerHTML = '‚ú®';
                    firework.style.position = 'absolute';
                    firework.style.left = Math.random() * 100 + 'vw';
                    firework.style.top = Math.random() * 100 + 'vh';
                    firework.style.fontSize = (Math.random() * 20 + 15) + 'px';
                    firework.style.zIndex = '5';
                    firework.style.animation = `heartFloat ${Math.random() * 1 + 0.5}s ease-in-out forwards`;
                    document.body.appendChild(firework);
                    
                    setTimeout(() => {
                        firework.remove();
                    }, 1500);
                }, i * 200);
            }
        }

        // Add click interaction to create hearts
        document.addEventListener('click', (e) => {
            if (e.target !== startButton && e.target !== nameInput) {
                createClickHeart(e.clientX, e.clientY);
            }
        });

        function createClickHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.style.left = (x - 10) + 'px';
            heart.style.top = (y - 10) + 'px';
            heart.style.animation = `heartFloat ${Math.random() * 1 + 0.5}s ease-in-out forwards`;
            document.body.appendChild(heart);
            
            setTimeout(() => {
                heart.remove();
            }, 1500);
        }
    </script>
</body>
</html>